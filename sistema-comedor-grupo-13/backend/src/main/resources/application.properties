spring.application.name=sistema_comedores
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.open-in-view=false
spring.datasource.username=postgres
spring.datasource.password=dev-password
spring.servlet.multipart.max-file-size=30MB
spring.servlet.multipart.max-request-size=30MB
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://127.0.0.1:21301/products}
spring.datasource.driver-class-name=org.postgresql.Driver
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

# Flyway configuration
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration
spring.flyway.out-of-order=true
spring.flyway.baseline-on-migrate=true

# Timezone configuration for Buenos Aires
spring.jpa.properties.hibernate.jdbc.time_zone=America/Argentina/Buenos_Aires
spring.jackson.time-zone=America/Argentina/Buenos_Aires

server.port=8080
server.forward-headers-strategy=FRAMEWORK
server.servlet.context-path=/api
jwt.access.secret=0000000000000000000000000000000000000000000000000000000000000000
jwt.access.expiration=1800000
jwt.refresh.bytes=20
jwt.refresh.expiration=2592000000

# Mail configuration (use environment variables with fallback to localhost)
spring.mail.host=${SPRING_MAIL_HOST:localhost}
spring.mail.port=${SPRING_MAIL_PORT:1025}
spring.mail.username=${SPRING_MAIL_USERNAME:}
spring.mail.password=${SPRING_MAIL_PASSWORD:}
spring.mail.properties.mail.smtp.auth=${SPRING_MAIL_PROPERTIES_MAIL_SMTP_AUTH:false}
spring.mail.properties.mail.smtp.starttls.enable=${SPRING_MAIL_PROPERTIES_MAIL_SMTP_STARTTLS_ENABLE:false}
spring.mail.properties.mail.debug=true
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000
spring.mail.properties.mail.transport.protocol=smtp

# Application configuration
app.base-url=${APP_BASE_URL:http://localhost:21300}
app.external-url=${EXTERNAL_URL:http://localhost:21300}

# config for localDate serialization
spring.jackson.serialization.write-dates-as-timestamps: false

# Admin user (single)
app.admin.email=${ADMIN_EMAIL:admin@fi.uba.ar}
app.admin.password=${ADMIN_PASSWORD:Admin1234}

# Staff users (comma-separated lists)
app.staff.emails=${STAFF_EMAILS:staff1@fi.uba.ar,staff2@fi.uba.ar}
app.staff.passwords=${STAFF_PASSWORDS:Fiuba1234,Fiuba1234}

# Student users (comma-separated lists)
app.student.emails=${STUDENT_EMAILS:student1@fi.uba.ar,student2@fi.uba.ar}
app.student.passwords=${STUDENT_PASSWORDS:Fiuba1234,Fiuba1234}

# Minio image bucket setup
app.minio.url=http://minio:9000
app.minio.public-url=${MINIO_PUBLIC_URL:http://localhost:21300/minio}
app.minio.access-key=${MINIO_ROOT_USER:minioadmin}
app.minio.secret-key=${MINIO_ROOT_PASSWORD:minio1234}
app.minio.bucket=${MINIO_IMAGE_BUCKET_NAME:images}
app.minio.secure=false

logging.level.root=INFO
debug=false